/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./modules/search/lib/autocomplete.js":
/*!********************************************!*\
  !*** ./modules/search/lib/autocomplete.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\nconst autoCompleteInit = function ($){\n    if ($('.auto-complete').length > 0) {\n        var autoCompleteContainerClass = 'autocomplete-suggestions';\n\n        // -- submit form on return?\n        $('.auto-complete').keypress(function(e) {\n            if ( e.which == 10 || e.which == 13 ) {\n                $(this).parents('form').submit();\n            }\n        });\n\n        $('.auto-complete').keyup((e) => {\n            if(e.keyCode == 8 && $.trim(e.target.value).length < 3) {\n                $(e.target).autocomplete('disable');\n                $(e.target).parent().find('.string-search-clear').hide();\n                $(e.target).parent().find('.lds-dual-ring').hide();\n\n                // -- replace result content with stored placeholder\n                if ( $(e.target).hasClass('auto-complete-overlay') ) {\n                    var targetResultReset = $(e.target).parents('.search-box-field--fulltext').find('.string-search-overlay-results');\n                    var thisPlaceholder = $(e.target).parents('.search-box-field--fulltext').find('.search-field-input--fulltext').data('search-placeholder');\n\n\n                    if ( targetResultReset.length > 0 ) {\n                        targetResultReset.html($('#searchStorage_' + thisPlaceholder).first().html());\n                    }\n                }\n            } else {\n                $(e.target).autocomplete('enable');\n            }\n\n            // get value and set it to overlay \"fake\" input\n            if ( $(e.target).hasClass('auto-complete-overlay') ) {\n                var thisSearchValue = $(e.target).val();\n\n                $(e.target).parents('.search-box-field--fulltext').find('.string-search-trigger').val(thisSearchValue);\n            }\n        });\n        $('.auto-complete').each(function(e) {\n            if ( $(this).hasClass('auto-complete-overlay') ) {\n                autoCompleteContainerClass = 'autocomplate-suggestions-overlay ' + $(this).data('containerclass');\n            } else {\n                autoCompleteContainerClass = 'autocomplete-suggestions';\n            }\n\n            $(this).autocomplete({\n                serviceUrl: '/wp-content/themes/travelshop/pm-ajax-endpoint.php?action=autocomplete',\n                type: 'GET',\n                dataType: 'json',\n                paramName: 'pm-t',\n                deferRequestBy: 0,\n                containerClass: autoCompleteContainerClass,\n                minChars: 3,\n                width: 'flex',\n                groupBy: 'category',\n                preventBadQueries: false,\n                tabDisabled: true,\n                preserveInput: true,\n                formatResult: function (suggestion, currentValue){\n                    var re = new RegExp(`${currentValue}`, 'gi');\n                    let img = typeof suggestion.img != 'undefined' ? '<div class=\"suggestion-featured-image\"><img src=\"' + suggestion.img + '\" /></div>' : '';\n                    let price = typeof suggestion.price != 'undefined' ? '<div class=\"suggestion-price\"><small>schon ab</small><br /><strong>' + suggestion.price + '</strong></div>' : '';\n                    let arrow = suggestion.type != 'media_object' ? '<svg><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" href=\"/wp-content/themes/travelshop/assets/img/phosphor-sprite.svg#arrow-up-right\"></use></svg>' : '';\n                    return '<div class=\"string-search-suggestion\">' +\n                        '<div class=\"suggestion-left\">' +\n                        img +\n                        '<div class=\"suggestion-string\">' + suggestion.value?.replace(re, '<strong>$&</strong>') + '</div>' +\n                        '</div>' +\n                        price +\n                        arrow +\n                        '</div>';\n                },\n                onSelect: function (suggestion) {\n                    if (suggestion.data.type == 'link') {\n                        document.location.href = suggestion.data.url;\n                    } else if (suggestion.data.type == 'search') {\n                        var url = $(this).parents('form').attr('action');\n                        url += '?' + suggestion.data.search_request;\n                        document.location.href = url;\n                    }\n                },\n                onSearchStart: function () {\n                    $(this).parent().find('.lds-dual-ring').show();\n                    $(this).parent().find('.string-search-clear').hide();\n                    $(this).parent().find('.string-search-clear').hide();\n                },\n                onSearchComplete: function() {\n                    $(this).parent().find('.lds-dual-ring').hide();\n                    $(this).parent().find('.string-search-clear').show().click(() => {\n                        $(this).val('');\n                        $(this).parent().find('.string-search-clear').hide();\n                    });\n                    if($(this).autocomplete().disabled) {\n                        $(this).parent().find('.string-search-clear').hide();\n                    }\n\n                    if ( $(this).hasClass('auto-complete-overlay') ) {\n                        var targetResultDraw = $(this).parents('.search-box-field--fulltext').find('.string-search-overlay-results');\n                        var thisInputContainerClass = $(this).data('containerclass');\n\n                        if ( targetResultDraw.length > 0 ) {\n                            var storeResultHtml = $('.' + thisInputContainerClass).html();\n\n                            targetResultDraw.html(storeResultHtml);\n                        }\n                    }\n                }\n            })\n\n        });\n    }\n}\nmodule.exports = autoCompleteInit;\n\n\n//# sourceURL=webpack:///./modules/search/lib/autocomplete.js?");

/***/ }),

/***/ "./modules/search/lib/availability.js":
/*!********************************************!*\
  !*** ./modules/search/lib/availability.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let _this, $ = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nconst checkAvailability = function (id_offer, quantity, booking_btn){\n    this.requests.push($.ajax({\n        url: ts_ajax_check_availibility_endpoint,\n        type: 'POST',\n        contentType: \"application/json; charset=utf-8\",\n        data: JSON.stringify({'checks' : [{\n                'id_offer' : id_offer,\n                'quantity' : quantity\n            }]}),\n    }).done(function (response) {\n        let data = response.data[0];\n        $(booking_btn).find('span').html(data.btn_msg);\n        $(booking_btn).attr('title', data.msg);\n        $(booking_btn).find('.loader').hide();\n        $(booking_btn).removeClass('green');\n        $(booking_btn).find('svg').show();\n        $(booking_btn).addClass(data.class);\n        if(data.bookable === true && data.booking_type != 'request'){\n            let href = new URL($(booking_btn).attr('href'));\n            if(href.searchParams.get('t') != 'request'){\n                href.searchParams.set('t', data.booking_type);\n            }\n            location.href = href.toString();\n        } else if(data.bookable === true) {\n            $(booking_btn).click(() => {location.href = $(booking_btn).attr('href') + '&t='+data.booking_type});\n        }\n    }));\n}\nmodule.exports = checkAvailability;\n\n\n//# sourceURL=webpack:///./modules/search/lib/availability.js?");

/***/ }),

/***/ "./modules/search/lib/basic.js":
/*!*************************************!*\
  !*** ./modules/search/lib/basic.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let _this, $ = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nconst call = function (query_string, scrollto, total_result_span_id, callback, target, $, _this) {\n    this.oneByOneRequest();\n    this.requests.push($.ajax({\n        url: this.endpoint_url + '?' + query_string,\n        method: 'GET',\n        data: null\n    }).done(function (data) {\n        callback(data, query_string, scrollto, total_result_span_id, $, _this);\n    }));\n}\nconst getAllUrlParams = function(url) {\n\n    // get query string from url (optional) or window\n    var queryString = url ? url.split('?')[1] : window.location.search.slice(1);\n\n    // we'll store the parameters here\n    var obj = {};\n\n    // if query string exists\n    if (queryString) {\n\n        // stuff after # is not part of query string, so get rid of it\n        queryString = queryString.split('#')[0];\n\n        // split our query string into its component parts\n        var arr = queryString.split('&');\n\n        for (var i = 0; i < arr.length; i++) {\n            // separate the keys and the values\n            var a = arr[i].split('=');\n\n            // set parameter name and value (use 'true' if empty)\n            var paramName = a[0];\n            var paramValue = typeof (a[1]) === undefined ? true : a[1];\n\n            // (optional) keep case consistent\n            if(false) {}\n\n            // if the paramName ends with square brackets, e.g. colors[] or colors[2]\n            if (paramName.match(/\\[(\\d+)?\\]$/)) {\n\n                // create key if it doesn't exist\n                var key = paramName.replace(/\\[(\\d+)?\\]/, '');\n                if (!obj[key]) obj[key] = [];\n\n                // if it's an indexed array e.g. colors[2]\n                if (paramName.match(/\\[\\d+\\]$/)) {\n                    // get the index value and add the entry at the appropriate position\n                    var index = /\\[(\\d+)\\]/.exec(paramName)[1];\n                    obj[key][index] = paramValue;\n                } else {\n                    // otherwise add the value to the end of the array\n                    obj[key].push(paramValue);\n                }\n            } else {\n                // we're dealing with a string\n                if (!obj[paramName]) {\n                    // if it doesn't exist, create property\n                    obj[paramName] = paramValue;\n                } else if (obj[paramName] && typeof obj[paramName] === 'string') {\n                    // if property does exist and it's a string, convert it to an array\n                    obj[paramName] = [obj[paramName]];\n                    obj[paramName].push(paramValue);\n                } else {\n                    // otherwise add the property\n                    obj[paramName].push(paramValue);\n                }\n            }\n        }\n    }\n\n    return obj;\n}\nconst oneByOneRequest = function (){\n    for (let i = 0; i < this.requests.length; i++) {\n        if(i > 1) {\n            this.requests.forEach((it,ind) => {\n                if(ind < i) {\n                    it.abort();\n                }\n            });\n        }\n    }\n}\nconst replaceUrlParam = function(url, paramName, paramValue)\n{\n    if (paramValue == null) {\n        paramValue = '';\n    }\n    var pattern = new RegExp('\\\\b('+paramName+'=).*?(&|#|$)');\n    if (url.search(pattern)>=0) {\n        return url.replace(pattern,'$1' + paramValue + '$2');\n    }\n    url = url.replace(/[?#]$/,'');\n    return url + (url.indexOf('?')>0 ? '&' : '?') + paramName + '=' + paramValue;\n}\nconst updateQueryStringParam = function(key, value) {\n    let baseUrl = [location.protocol, '//', location.host, location.pathname].join('');\n    let urlQueryString = document.location.search;\n    var newParam = key + '=' + value,\n        params = '?' + newParam;\n\n    // If the \"search\" string exists, then build params from it\n    if (urlQueryString) {\n        let keyRegex = new RegExp('([\\?&])' + key + '[^&]*');\n        // If param exists already, update it\n        if (urlQueryString.match(keyRegex) !== null) {\n            params = urlQueryString.replace(keyRegex, \"$1\" + newParam);\n        } else { // Otherwise, add it to end of query string\n            params = urlQueryString + '&' + newParam;\n        }\n    }\n    window.history.replaceState({}, \"\", baseUrl + params);\n}\nconst theEasterDate = function (Y) {\n    var C = Math.floor(Y/100);\n    var N = Y - 19*Math.floor(Y/19);\n    var K = Math.floor((C - 17)/25);\n    var I = C - Math.floor(C/4) - Math.floor((C - K)/3) + 19*N + 15;\n    I = I - 30*Math.floor((I/30));\n    I = I - Math.floor(I/28)*(1 - Math.floor(I/28)*Math.floor(29/(I + 1))*Math.floor((21 - N)/11));\n    var J = Y + Math.floor(Y/4) + I + 2 - C + Math.floor(C/4);\n    J = J - 7*Math.floor(J/7);\n    var L = I - J;\n    var M = 3 + Math.floor((L + 40)/44);\n    var D = L + 28 - 31*Math.floor(M/4);\n\n    return dayjs().month(M - 1).date(D).year(Y);\n}\nconst initBookingBtnClickHandler = function ($){\n    if ($('.booking-btn').length > 0) {\n        $('.booking-btn').not('.detail-booking-entrypoint .booking-btn').on('click', function (e) {\n            if($(this).data('modal') === true){\n                return true;\n            }\n            e.stopPropagation();\n            e.preventDefault();\n            $(this).find('.loader').show();\n            $(this).find('svg').hide();\n            $(this).find('span').html('');\n            _this.checkAvailability($(this).data('id-offer'), 1, $(e.target));\n        });\n    }\n}\nmodule.exports = {replaceUrlParam, updateQueryStringParam, getAllUrlParams, oneByOneRequest, call, theEasterDate, initBookingBtnClickHandler};\n\n\n//# sourceURL=webpack:///./modules/search/lib/basic.js?");

/***/ }),

/***/ "./modules/search/lib/partnerparam.js":
/*!********************************************!*\
  !*** ./modules/search/lib/partnerparam.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\nconst initPartnerParams = function () {\n    let getUrlParameter = function getUrlParameter(sParam) {\n        var sPageURL = window.location.search.substring(1),\n            sURLVariables = sPageURL.split('&'),\n            sParameterName,\n            i;\n\n        for (i = 0; i < sURLVariables.length; i++) {\n            sParameterName = sURLVariables[i].split('=');\n\n            if (sParameterName[0] === sParam) {\n                return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n            }\n        }\n        return false;\n    };\n    if(getUrlParameter(partnerParam)) {\n        localStorage.setItem('partnerParam', getUrlParameter(partnerParam));\n        localStorage.setItem('partnerTimestamp', + new Date());\n    }\n    if(localStorage.getItem('partnerParam') && localStorage.getItem('partnerTimestamp')) {\n        if(localStorage.getItem('partnerTimestamp') >= (+ new Date() - (partnerTimeout * 86400000) )) {\n            $('.booking-btn').each((index, item) => {\n                let href = $(item).attr('href')\n                $(item).attr('href', href + '&ida=' + localStorage.getItem('partnerParam'));\n            });\n        }\n\n    }\n}\nmodule.exports = initPartnerParams;\n\n\n//# sourceURL=webpack:///./modules/search/lib/partnerparam.js?");

/***/ }),

/***/ "./modules/search/lib/search.js":
/*!**************************************!*\
  !*** ./modules/search/lib/search.js ***!
  \**************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\nconst resultHandlerSearch = function (data, query_string, scrollto, total_result_span_id, $, _this) {\n\n    _this.removeSpinner();\n\n    for (let key in data.html) {\n        if (key == 'search-result') {\n            $('#' + key).html(data.html[key]).find('.content-block-travel-cols').fadeIn()\n                .css({top:1000,position:'relative'})\n                .animate({top:0}, 80, 'swing')\n        }else{\n            $('#' + key).html(data.html[key]);\n        }\n\n        if (key == 'search-filter') {\n            new rSlider({\n                target: '#js-range-slider',\n                values: { min: parseInt($(\".js-range-slider\").attr('data-min')), max: parseInt($(\".js-range-slider\").attr('data-max'))},\n                step: parseInt($(\".js-range-slider\").attr('data-step')),\n                set: [parseInt($(\".js-range-slider\").attr('data-val-from')), parseInt($(\".js-range-slider\").attr('data-val-to'))],\n                range: true,\n                tooltip: true,\n                scale: true,\n                labels: false,\n                disabled: $(\".js-range-slider\").attr('data-disable') == 'true'\n            });\n            let timeout;\n            let timestamp = + new Date();\n            if($(window).width() >= 768) {\n                document.querySelector('#js-range-slider').addEventListener('change', (e) => {\n                    if(((+ new Date()) - timestamp) <= 1000) {\n                        clearTimeout(timeout);\n                    }\n                    timestamp = + new Date;\n                    timeout = setTimeout(() => {\n                        let form = $('#js-range-slider').closest('form');\n                        let query_string = _this.buildSearchQuery(form, $);\n                        _this.setSpinner('#pm-search-result');\n                        _this.call(query_string, '#search-result', null, _this.resultHandlerSearch, null, $, _this);\n                        e.preventDefault();\n                    }, 1000);\n                });\n            }\n        }\n    }\n\n    if (total_result_span_id != null) {\n        let total_count_span = $(total_result_span_id);\n        let str = '';\n        if (data.count == 1) {\n            str = data.count + ' ' + total_count_span.data('total-count-singular');\n        } else if (data.count > 1 || data.count == 0) {\n            str = data.count + ' ' + total_count_span.data('total-count-plural');\n        } else {\n            str = data.count + ' ' + total_count_span.data('total-count-default');\n        }\n        total_count_span.html(str.trim());\n    }\n\n    if (scrollto != null) {\n        _this.scrollTo(scrollto);\n    }\n\n    _this.initCalendarRowClick();\n\n    window.history.pushState(null, '', window.location.pathname + '?' + query_string);\n    _this.dateRangePickerInit();\n    _this.filter();\n}\n\nif (false) { var rSliderElement; }\nconst resultHandlerSearchBarStandalone = function(data, query_string, scrollto, btn){\n\n    _this.removeButtonLoader(btn);\n    let total_count_span = btn.find('span.search-bar-total-count');\n    let str = '';\n    if (data.count == 1) {\n        str = data.count + ' ' + total_count_span.data('total-count-singular');\n    } else if (data.count > 1 || data.count == 0) {\n        str = data.count + ' ' + total_count_span.data('total-count-plural');\n    } else {\n        str = data.count + ' ' + total_count_span.data('total-count-default');\n    }\n    total_count_span.html(str.trim());\n}\nconst pagination = function ($) {\n\n    $(\"#search-result\").on('click', \".page-link\", function (e) {\n        var href = $(this).attr('href').split('?');\n        var query_string = href[1];\n\n        _this.scrollTo('#search-result');\n        _this.setSpinner('#pm-search-result');\n        _this.call(query_string, null, null, _this.resultHandlerSearch, null, $, _this);\n        e.preventDefault();\n    });\n\n}\nconst buildSearchQuery = function (form, $) {\n\n    let query = [];\n    query.push('action=search');\n\n    // the object type\n    let id_object_type = $(form).find('input[name=pm-ot]').val();\n    if (id_object_type && id_object_type != '') {\n        query.push('pm-ot=' + id_object_type);\n    }\n\n    // categorytree checkboxes\n    let selected = [];\n    $(form).find('.category-tree input:checked').each(function () {\n\n        let id_parent = $(this).attr('data-id-parent');\n        let id = $(this).attr('data-id');\n        let name = $(this).attr('data-name');\n\n        if (!selected[name]) {\n            selected[name] = [];\n        }\n\n        let i = selected[name].indexOf(id_parent);\n        if (i > -1) {\n            // remove if parent is set\n            selected[name].splice(i, 1);\n        }\n\n        i = selected[name].indexOf(id);\n        if (i == -1) {\n            // has no parent, add\n            selected[name].push(id);\n        }\n\n    });\n    let key;\n    let delimiter = ',';\n    for (key in selected) {\n        if ($('input[name='+key+'-behavior]').val() == 'AND'){\n            delimiter = '%2B';\n        }else{\n            delimiter = ',';\n        }\n        query.push('pm-c[' + key + ']=' + selected[key].join(delimiter));\n    }\n\n    // board_type checkboxes\n    selected = [];\n    $(form).find('.board-type input:checked').each(function () {\n        selected.push($(this).attr('data-id'));\n    });\n    if(selected.length > 0){\n        query.push('pm-bt=' + selected.join(','));\n    }\n\n    // transport_type checkboxes\n    selected = [];\n    $(form).find('.transport-type input:checked').each(function () {\n        selected.push($(this).attr('data-id'));\n    });\n    if(selected.length > 0){\n        query.push('pm-tr=' + selected.join(','));\n    }\n\n    // check and set price-range\n    let price_range = $(form).find(\"input[name=pm-pr]\").val();\n    let price_mm_range = $(form).find(\"input[name=pm-pr]\").data(\"min\") + \"-\" + $(form).find(\"input[name=pm-pr]\").data(\"max\");\n    if (price_range && price_mm_range != price_range && price_range != \"\") {\n        query.push(\"pm-pr=\" + price_range)\n    }\n\n    // check and set duration-range\n    let duration_range = $(form).find('select[name=pm-du]').val();\n    if (duration_range && duration_range != '') {\n        query.push('pm-du=' + duration_range);\n    }\n\n    // check and set date-range\n    let date_range = $(form).find('input[name=pm-dr]').attr('data-value');\n    if (date_range && date_range != '') {\n        query.push('pm-dr=' + date_range);\n    }\n\n    // check and set date-range\n    let transport_types = $(form).find('input[name=pm-tt]').data('value');\n    if (transport_types && transport_types != '') {\n        query.push('pm-tt=' + transport_types);\n    }\n\n    // check and set search term\n    let search_term = $(form).find('input[name=pm-t]').val();\n    if (search_term && search_term != '') {\n        query.push('pm-t=' + search_term);\n    }\n\n    // the view\n    let view = $('.pm-switch-result-view .pm-switch-checkbox').prop('checked');\n    if (view) {\n        view = $('.pm-switch-result-view .pm-switch-checkbox').val();\n    }\n\n    let order = $(form).find('select[name=pm-o]');\n    if (order && order != '') {\n        if(order.find('option[data-view=\"Calendar1\"]').is(':selected')) {\n            view = 'Calendar1';\n        }\n        query.push('pm-o=' + order.val());\n    }\n\n    if (view) {\n        query.push('view=' + view);\n    }\n\n    // Build the Query\n    let query_string;\n    query_string = query.join('&');\n\n    return query_string;\n}\nconst filter = ($, _this) => {\n\n    // dont run default realtime ajax-functions on small viewport\n    if ($(window).width() > 768) {\n        $(\"#search-filter\").off('change').on('change', \".list-filter-box input, .list-filter-box select\", function (e) {\n            let form = $(this).closest('form');\n            // if the second level has no more selected items, we fall back to the parents value\n            if($(this).closest('.form-check.has-second-level').find('input:checked').length == 0){\n                $(this).closest('.form-check.has-second-level').find('input:disabled:first').attr(\"disabled\", false).prop('checked', true);\n            }\n            let query_string = _this.buildSearchQuery(form, $);\n            _this.setSpinner('#pm-search-result');\n            _this.call(query_string, '#search-result', null, _this.resultHandlerSearch, null, $, _this);\n            e.preventDefault();\n        });\n        $('.js-range-slider').on('mouseup', () => {\n            let form = $(this).closest('form');\n            let query_string = _this.buildSearchQuery(form, $);\n            _this.setSpinner('#pm-search-result');\n            _this.call(query_string, '#search-result', null, _this.resultHandlerSearch, null, $, _this);\n            e.preventDefault();\n        });\n    }\n\n    $(\"#search-filter\").one('click', \".list-filter-box-submit\", function (e) {\n        let form = $(this).closest('form');\n        // if the second level has no more selected items, we fall back to the parents value\n        if($(this).closest('.form-check.has-second-level').find('input:checked').length == 0){\n            $(this).closest('.form-check.has-second-level').find('input:disabled:first').attr(\"disabled\", false).prop('checked', true);\n        }\n        let query_string = _this.buildSearchQuery(form, $);\n        _this.setSpinner('#pm-search-result');\n        _this.call(query_string, '#search-result', null, _this.resultHandlerSearch, null, $, _this);\n        e.preventDefault();\n    });\n\n    $(\"#booking-filter\").one('click change', \"input\", function (e) {\n        let form = $(this).closest('form');\n        // if the second level has no more selected items, we fall back to the parents value\n        if($(this).closest('.form-check.has-second-level').find('input:checked').length == 0){\n            $(this).closest('.form-check.has-second-level').find('input:disabled:first').attr(\"disabled\", false).prop('checked', true);\n        }\n        e.preventDefault();\n    });\n\n}\n\nconst searchbox = function ($) {\n\n    /**\n     * This Event checks if a input field is modified and building the query string.\n     * The query string is added to the form > a.btn > href\n     * If the search box is on the same site as the search result, than the ajax search query is fired\n     */\n    $('#main-search').on('change', '.search-box input, .search-box select', function (e) {\n\n        if($(e.target).parent().hasClass('has-second-level')) {\n            $(e.target).is(':checked') ? $(e.target).parent().addClass('active') : $(e.target).parent().removeClass('active');\n        }\n\n        let form = $('#main-search');\n        // build the query string and set him on the search button\n        let query_string = _this.buildSearchQuery(form, $);\n\n        let button = $(form).find('a.btn');\n        let href = button.attr('href').split('?');\n        button.attr('href', href[0] + '?' + query_string);\n\n        // if we're on the same page, let fire the search and set the search results\n        let current_location = window.location.href.split('?');\n        if (current_location[0] == href[0]) {\n            _this.setSpinner('#pm-search-result');\n            _this.call(query_string, null, $('.search-bar-total-count'), _this.resultHandlerSearch, null, $, _this);\n        } else {\n            _this.setButtonLoader(button);\n            // in this case we have placed a search box on a site without a direct result output\n            _this.call(query_string, null, button, _this.resultHandlerSearchBarStandalone, null, $, _this);\n        }\n\n        e.preventDefault();\n    });\n\n}\n\nconst searchboxSwitch = function ($){\n    $(\".search-wrapper--tabs_btn\").on('click', function (e) {\n        $(this).parents().find(\".search-wrapper--tabs_btn\").removeClass('is-active');\n        $(this).addClass('is-active');\n        let query_string = 'action=searchbar&pm-tab='+$(this).data('pm-tab') + '&pm-box='+$(this).data('pm-box');\n        _this.call(query_string, null, null, _this.resultHandlerSearchBar, null, $, _this);\n    });\n}\n\nconst resultHandlerSearchBar = function(data){\n    for (var key in data.html) {\n        $('#' + key).replaceWith(data.html[key]);\n    }\n    _this.searchbox();\n    _this.autoCompleteInit();\n    _this.dateRangePickerInit();\n    _this.initCategoryTreeSearchBarFields();\n}\nmodule.exports = {resultHandlerSearchBar, searchboxSwitch, searchbox, filter, pagination, buildSearchQuery, resultHandlerSearch, resultHandlerSearchBarStandalone};\n\n\n//# sourceURL=webpack:///./modules/search/lib/search.js?");

/***/ }),

/***/ "./modules/search/lib/userlogin.js":
/*!*****************************************!*\
  !*** ./modules/search/lib/userlogin.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\n// ====================================\n// USER/AGENCY LOGIN FUNCTIONALITY START\n// ====================================\nconst currentTimestampToDateString = function(timestamp) {\n    const currentDate = new Date(timestamp);\n    const currentDayOfMonth = String(currentDate.getDate()).padStart(2, '0');\n    const currentMonth = String(currentDate.getMonth() + 1).padStart(2, '0'); // Be careful! January is 0, not 1\n    const currentYear = currentDate.getFullYear();\n    const currentHour = String(currentDate.getHours()).padStart(2, '0');\n    const currentMinute = String(currentDate.getMinutes()).padStart(2, '0');\n    const currentSeconds = String(currentDate.getSeconds()).padStart(2, '0');\n    return currentYear + '-' + currentMonth + '-' + currentDayOfMonth + ' ' + currentHour + ':' + currentMinute + ':' + currentSeconds;\n}\nconst saveProductRelationInUserAccount = function(type, id, timestamp) {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            url: IBEURL + '/api/external/createUserProductRelation',\n            method: 'POST',\n            data: {\n                id_media_object: id,\n                type: type,\n                created: _this.currentTimestampToDateString(timestamp)\n            },\n            xhrFields: {withCredentials: true},\n            crossDomain: true\n        }).done(function (productRelationsData) {\n            resolve(productRelationsData.data);\n            if(productRelationsData.success) {}\n        });\n    });\n}\nconst removeProductRelationInUserAccount = function(id) {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            url: IBEURL + '/api/external/deleteUserProductRelation',\n            method: 'POST',\n            data: {\n                id: id\n            },\n            xhrFields: {withCredentials: true},\n            crossDomain: true\n        }).done(function (productRelationsData) {\n            resolve();\n        });\n    });\n}\nconst getProductRelationsInUserAccount = function () {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            url: IBEURL + '/api/external/getUserProductRelation',\n            method: 'GET',\n            xhrFields: {withCredentials: true},\n            crossDomain: true\n        }).done(function (productRelationsData) {\n            if(productRelationsData.message =  true && productRelationsData.data.length > 0) {\n                resolve(productRelationsData.data);\n            } else {\n                resolve([]);\n            }\n        });\n    });\n}\nconst matchRelatedProducts = function() {\n    _this.getProductRelationsInUserAccount().then((userAccountRelatedProducts) => {\n        let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n        if(jQuery.isEmptyObject(relatedList)) {\n            relatedList = [];\n        }\n        let pushItemsToAcc = async () => {\n            return new Promise((resolve, reject) => {\n                if(relatedList.length == 0 || typeof relatedList == 'undefined') {\n                    resolve();\n                } else {\n                    let lastIndex = relatedList.reduce((a,b,c) => { if(userAccountRelatedProducts.some(x => x.id_media_object == b.id_media_object && x.type == b.type)) { a = c; return c; } else { return a; }}, 0);\n                    if(userAccountRelatedProducts.reduce((a,b,c) => { if(relatedList.some(x => x.id_media_object == b.id_media_object)) { return a + (c + 1); }}, 0) != 0 || userAccountRelatedProducts.length == 0) {\n                        let allResolved = false;\n                        relatedList?.forEach((it, ind) => {\n                            if(userAccountRelatedProducts.filter(x => x.id_media_object == it?.id_media_object && x.type == it?.type).length == 0) {\n                                setTimeout(() => {\n                                    _this.saveProductRelationInUserAccount(it.type, it.id_media_object, it.created).then((newIt) => {\n                                        relatedList[ind].id = newIt.id;\n                                        if(ind == lastIndex || typeof lastIndex == 'undefined') {\n                                            resolve();\n                                        }\n                                    });\n                                }, ind * 250);\n                            } else {\n                                if(ind == lastIndex || typeof lastIndex == 'undefined') {\n                                    resolve();\n                                }\n                            }\n                        });\n                    } else {\n                        resolve();\n                    }\n                }\n            });\n        }\n        pushItemsToAcc().then(() => {\n            let rel = [];\n            userAccountRelatedProducts.sort((a,b) => {\n                return b.created - a.created\n            });\n            userAccountRelatedProducts = userAccountRelatedProducts.filter((a,ix) => { if(typeof rel[a.id_media_object] == 'undefined') { rel[a.id_media_object] = []; rel[a.id_media_object][a.type] = true; ; return a; } else { if(typeof rel[a.id_media_object][a.type] == 'undefined') { rel[a.id_media_object][a.type] = true; return a; } else { setTimeout(() => {_this.removeProductRelationInUserAccount(a.id)}, ix * 250); return false; } } });\n            userAccountRelatedProducts?.forEach(async (it2, ind2) => {\n                if(relatedList.filter(x => (x.id_media_object == it2.id_media_object && x.type == it2.type )).length == 0) {\n                    await relatedList.push({\n                        'id_media_object': it2.id_media_object,\n                        'type': it2.type,\n                        'created': + new Date(it2.created.date),\n                        'id': it2.id\n                    });\n                }\n            });\n            let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n            let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n            visitedlist.sort((a,b) => {\n                return b.created - a.created\n            });\n            visitedlist = visitedlist.slice(0, 10);\n            relatedList = wishlist.concat(visitedlist);\n            window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n            _this.renderVisitedList();\n            _this.renderWishlist();\n        });\n    });\n}\nconst initLoginFunctionality = function($) {\n    if($('.user-login').length) {\n        const params = _this.getAllUrlParams();\n        const redirectURL = _this.replaceUrlParam($('.login-link').attr('href'), 'redirect', btoa(location.protocol + '//' + location.host + location.pathname));\n        $('.login-link').attr('href', redirectURL);\n\n        $('.user-login .lds-dual-ring').show();\n        $('.user-login .icon').hide();\n        $('.loginstatus').hide();\n\n        function renderUserData(user) {\n            if (user != null) {\n                $('.login-link').attr('href', '#profil');\n                $('.user-login .userdata .userdata-email').text(user.email_address);\n                $('.user-login .label').hide();\n                $('.login-link').unbind().click((e) => {\n                    e.preventDefault();\n                    $('.userdata').toggleClass('active')\n                });\n                $('.user-login').addClass('logged-in');\n                $('body').addClass('logged-in');\n                $('.user-login').removeClass('logged-out');\n                $('body').removeClass('logged-out');\n                $('.loginstatus').show();\n                $('.user-login .lds-dual-ring').hide();\n                $('.user-login .icon').show();\n            }\n        }\n\n        $.ajax({\n            url: IBEURL + '/api/external/getUserData',\n            method: 'GET',\n            xhrFields: {withCredentials: true},\n            crossDomain: true\n        }).done(function (data) {\n            if (data.success) {\n                _this.matchRelatedProducts();\n                renderUserData(data.data.user);\n                // Login as Wordpress Agency User\n                if(data.data.user.is_agency) {\n                    console.log('Agency logged in, login into Wordpress...');\n                    $.get('/wp-content/themes/travelshop/functions/agency-login.php', function(data){\n                        let response = JSON.parse(data);\n                        console.log(response);\n                    });\n                }\n            } else {\n                _this.renderVisitedList();\n                _this.renderWishlist();\n                $('.loginstatus').show();\n                $('.user-login .lds-dual-ring').hide();\n                $('.user-login .icon').show();\n            }\n        });\n\n        $('.logout-link').unbind().click((e) => {\n            $.ajax({\n                url: IBEURL + '/api/external/logout',\n                method: 'GET',\n                xhrFields: {withCredentials: true},\n                crossDomain: true\n            }).done(function (data) {\n                if (data.success) {\n                    $('.login-link').unbind().attr('href', redirectURL);\n                    if (window.innerWidth >= 1200) {\n                        $('.user-login .label').show();\n                    }\n                    $('.user-login .userdata').removeClass('active');\n                    $('.user-login').removeClass('logged-in');\n                    $('body').removeClass('logged-in');\n                    $('.user-login').addClass('logged-out');\n                    $('body').addClass('logged-out');\n                    $('.user-login').removeClass('pushTopXL');\n                    $('.wishlist').removeClass('pushTopXL');\n                    $('.user-login .lds-dual-ring').hide();\n                    $('.user-login .icon').show();\n                    $('.loginstatus').show();\n                }\n            });\n        });\n    }\n}\n// ====================================\n// USER/AGENCY LOGIN FUNCTIONALITY END\n// ====================================\nmodule.exports = {initLoginFunctionality, matchRelatedProducts, removeProductRelationInUserAccount, saveProductRelationInUserAccount, getProductRelationsInUserAccount, currentTimestampToDateString};\n\n\n//# sourceURL=webpack:///./modules/search/lib/userlogin.js?");

/***/ }),

/***/ "./modules/search/lib/visitedlist.js":
/*!*******************************************!*\
  !*** ./modules/search/lib/visitedlist.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\nconst resultHandlerVisitedList = function (data) {\n\n    // set the visitedList\n    for (var key in data.html) {\n        $('#' + key).html(data.html[key]);\n    }\n\n    // sync results to localstorage (if object are deleted from server)\n    let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n    let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n    let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n    if (!jQuery.isEmptyObject(visitedlist)) {\n        $(visitedlist).each(function (key, item) {\n            var is_valid = false;\n            $(data.ids).each(function (key, id) {\n                if (item.id_media_object == id) {\n                    is_valid = true;\n                }\n            });\n            if (!is_valid) {\n                console.log('not valid remove ' + item.id);\n                visitedlist.some(function (it) {\n                    if (it.id_media_object == item.id_media_object) {\n                        var index = visitedlist.indexOf(it);\n                        visitedlist.splice(index, 1);\n                    }\n                });\n            }\n        });\n        relatedList = wishlist.concat(visitedlist);\n        window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n    }\n}\n\nconst renderVisitedList = function() {\n\n    let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n    let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n    let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n    if (visitedlist !== null && typeof visitedlist != 'undefined' && visitedlist.length !== 0) {\n        let query_string = 'action=visitedList&pm-o=list&view=Teaser7';\n        let idString = '&pm-id=';\n        let timeString = '&pm-time=';\n        visitedlist.sort((a,b) => { return a.created + b.created }).forEach(function (item, key) {\n            if (key !== visitedlist.length - 1) {\n                idString += item.id_media_object + ',';\n                timeString += item.created + ',';\n            } else {\n                idString += item.id_media_object;\n                timeString += item.created;\n            }\n        });\n        query_string = query_string + idString + timeString;\n        _this.call(query_string, null, null, _this.resultHandlerVisitedList);\n    }\n}\nconst setViewedProduct = function($) {\n    if($('body').hasClass('pm-detail-page') && typeof currentMOID != 'undefined') {\n        let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n        let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n        let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n        if (jQuery.isEmptyObject(visitedlist)) { visitedlist = []; }\n        if (jQuery.isEmptyObject(wishlist)) { wishlist = []; }\n        visitedlist = visitedlist.filter((a) => a.id_media_object != currentMOID);\n        visitedlist.unshift({\n            id_media_object: currentMOID,\n            type: 'viewed',\n            created: + new Date()\n        });\n        visitedlist = visitedlist.slice(0, 10);\n        relatedList = wishlist.concat(visitedlist);\n        window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n    }\n}\nmodule.exports = {renderVisitedList, resultHandlerVisitedList, setViewedProduct};\n\n\n//# sourceURL=webpack:///./modules/search/lib/visitedlist.js?");

/***/ }),

/***/ "./modules/search/lib/wishlist.js":
/*!****************************************!*\
  !*** ./modules/search/lib/wishlist.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let source = __webpack_require__(/*! ../../../ts-functions */ \"./ts-functions.js\");\nlet _this = source._this;\nlet $ = source.$;\nconst resultHandlerWishlist = function (data) {\n\n    // set the wishlist\n    for (var key in data.html) {\n        $('#' + key).html(data.html[key]);\n    }\n\n    // sync results to localstorage (if object are deleted from server)\n    let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n    let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n    let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n    if (!jQuery.isEmptyObject(wishlist)) {\n        $(wishlist).each(function (key, item) {\n            var is_valid = false;\n            $(data.ids).each(function (key, id) {\n                if (item.id_media_object == id) {\n                    is_valid = true;\n                }\n            });\n            if (!is_valid) {\n                console.log(' not valid remove ' + item.id_media_object);\n                _this.wishlistRemoveElement(wishlist, item.id_media_object);\n            }\n        });\n        $('.wishlist-count').text(wishlist?.length);\n        relatedList = wishlist.concat(visitedlist);\n        window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n    }\n\n}\nconst renderWishlist = function() {\n\n    let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n    let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n    let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n    if (wishlist !== null && typeof wishlist != 'undefined' && wishlist?.length !== 0) {\n        let query_string = 'action=wishlist&view=Teaser2&pm-id=';\n        $('.wishlist-count').text(wishlist?.length);\n        $('.wishlist-toggler').addClass('animate');\n        setTimeout(function () {\n            $('.wishlist-toggler').removeClass('animate');\n        }, 1250);\n        wishlist.forEach(function (item, key) {\n            if (key !== wishlist?.length - 1) {\n                query_string += item['id_media_object'] + ',';\n            } else {\n                query_string += item['id_media_object'];\n            }\n        });\n        _this.call(query_string, null, null, _this.resultHandlerWishlist);\n    } else {\n        _this.wishlistEventListeners();\n        $('.wishlist-count').text(0);\n        $('.wishlist-items').html(`<p>Keine Reisen auf der Merkliste</p>`);\n    }\n}\n\nconst wishlistEventListeners = function ($) {\n\n    if ($('#search-result').length > 0) {\n        // Create an observer instance linked to the callback function\n        var observer = new MutationObserver(function () {\n            _this.wishListInit();\n        });\n\n        observer.observe(document.getElementById('search-result'), {attributes: true, childList: true});\n    }\n    if ($('.add-to-wishlist').length > 0) {\n        $('body').on('click', '.add-to-wishlist', function (e) {\n            let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n            let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n            let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n            if (jQuery.isEmptyObject(wishlist)) {\n                wishlist = [];\n            }\n            if (wishlist.some(wi => wi.id_media_object == $(e.target).data('pm-id'))) {\n                _this.removeProductRelationInUserAccount(wishlist.find(wi => wi['id_media_object'] == $(e.target).data('pm-id'))?.id).then(() => {\n                    _this.wishlistRemoveElement(wishlist, $(e.target).data('pm-id'));\n                    relatedList = wishlist.concat(visitedlist);\n                    window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n                    _this.renderWishlist();\n                    $(e.target).removeClass('active');\n                });\n            } else {\n                _this.saveProductRelationInUserAccount('marked', $(e.target).data('pm-id'), + new Date()).then((createdObj) => {\n                    wishlist.push({\n                        'id_media_object': $(e.target).data('pm-id'),\n                        'type': 'marked',\n                        'created': + new Date(),\n                        'id': createdObj?.id\n                    });\n                    relatedList = wishlist.concat(visitedlist);\n                    window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n                    _this.renderWishlist();\n                    $(e.target).addClass('active');\n                });\n            }\n        });\n    }\n}\n\nconst wishListInit = function ($) {\n    $('.dropdown-menu-wishlist').click((e) => {\n        if(!$(e.target).is('a')) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n        if($(e.target).hasClass('remove-from-wishlist')) {\n            let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n            let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n            let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n            if (!jQuery.isEmptyObject(wishlist)) {\n                if (wishlist.some(wi => wi.id_media_object == $(e.target).data('pm-id'))) {\n                    _this.removeProductRelationInUserAccount(wishlist.find(wi => wi.id_media_object == $(e.target).data('pm-id') && wi.type == 'marked')?.id);\n                    _this.wishlistRemoveElement(wishlist, $(e.target).data('pm-id'));\n                    // $('.wishlist-heart').removeClass('active');\n                    $('.add-to-wishlist').each(function (key, item) {\n                        if ($(item).data('pm-id') == $(e.target).data('pm-id')) {\n                            $(item).removeClass('active');\n                        }\n                    });\n                }\n            }\n            relatedList = wishlist.concat(visitedlist);\n            window.localStorage.setItem('relatedList', JSON.stringify(relatedList));\n            _this.renderWishlist();\n        }\n    });\n    let relatedList = JSON.parse(window.localStorage.getItem('relatedList'));\n    let wishlist  = relatedList?.filter(x => x?.type == 'marked');\n    let visitedlist  = relatedList?.filter(x => x?.type == 'viewed');\n    if (!jQuery.isEmptyObject(wishlist)) {\n        $('.add-to-wishlist').each(function (key, item) {\n            if (wishlist.some(wi => wi['id_media_object'] == $(item).data('pm-id'))) {\n                $(item).addClass('active');\n            }\n        });\n    }\n    function setTabVisited() {\n        $('.dropdown-menu-visited-toggle').addClass('active');\n        $('.dropdown-menu-wishlist-toggle').removeClass('active');\n        $('.wishlist-items').removeClass('active');\n        $('.visited-items').addClass('active');\n        window.localStorage.setItem('currentFavTab', JSON.stringify('visited'));\n    }\n    function setTabWishlist() {\n        $('.dropdown-menu-wishlist-toggle').addClass('active');\n        $('.dropdown-menu-visited-toggle').removeClass('active');\n        $('.wishlist-items').addClass('active');\n        $('.visited-items').removeClass('active');\n        window.localStorage.setItem('currentFavTab', JSON.stringify('wishlist'));\n    }\n    let currentFavTab = JSON.parse(window.localStorage.getItem('currentFavTab'));\n    if (!jQuery.isEmptyObject(currentFavTab)) {\n        if(currentFavTab == 'wishlist') { setTabWishlist(); }\n        if(currentFavTab == 'visited') { setTabVisited(); }\n    }\n    $('.dropdown-menu-wishlist-toggle').click(() => setTabWishlist());\n    $('.dropdown-menu-visited-toggle').click(() => setTabVisited());\n}\n\nconst wishlistRemoveElement = function (array, elem) {\n    array.some(function (item) {\n        if (item.id_media_object == elem) {\n            var index = array.indexOf(item);\n            array.splice(index, 1);\n        }\n    });\n}\nmodule.exports = {renderWishlist, wishlistEventListeners, wishListInit, wishlistRemoveElement, resultHandlerWishlist};\n\n\n//# sourceURL=webpack:///./modules/search/lib/wishlist.js?");

/***/ }),

/***/ "./modules/search/search.js":
/*!**********************************!*\
  !*** ./modules/search/search.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const wishlist = __webpack_require__(/*! ./lib/wishlist */ \"./modules/search/lib/wishlist.js\");\nconst search = __webpack_require__(/*! ./lib/search */ \"./modules/search/lib/search.js\");\nconst user = __webpack_require__(/*! ./lib/userlogin */ \"./modules/search/lib/userlogin.js\");\nlet TSAjax = function (endpoint_url, $) {\n    let _this = this;\n    // IMPORT MODULES\n    let basics = __webpack_require__(/*! ./lib/basic.js */ \"./modules/search/lib/basic.js\");\n    let wishlist = __webpack_require__(/*! ./lib/wishlist.js */ \"./modules/search/lib/wishlist.js\");\n    let visitedlist = __webpack_require__(/*! ./lib/visitedlist.js */ \"./modules/search/lib/visitedlist.js\");\n    let search = __webpack_require__(/*! ./lib/search.js */ \"./modules/search/lib/search.js\");\n    let user = __webpack_require__(/*! ./lib/userlogin.js */ \"./modules/search/lib/userlogin.js\");\n    let autoCompleteInit = __webpack_require__(/*! ./lib/autocomplete.js */ \"./modules/search/lib/autocomplete.js\");\n    let checkAvailability = __webpack_require__(/*! ./lib/availability.js */ \"./modules/search/lib/availability.js\");\n    let initPartnerParams = __webpack_require__(/*! ./lib/partnerparam.js */ \"./modules/search/lib/partnerparam.js\");\n\n    this.endpoint_url = endpoint_url;\n    this.requests = new Array();\n\n    // BASIC FUNCTIONS\n    this.replaceUrlParam = basics.replaceUrlParam;\n    this.updateQueryStringParam = basics.basicsupdateQueryStringParam;\n    this.getAllUrlParams = basics.getAllUrlParams;\n    this.oneByOneRequest = basics.oneByOneRequest;\n    this.call = basics.call;\n    this.theEasterDate = basics.theEasterDate;\n    this.initBookingBtnClickHandler = basics.initBookingBtnClickHandler;\n\n    // WISHLIST FUNCTIONS\n    this.renderWishlist = wishlist.renderWishlist;\n    this.wishlistEventListeners = wishlist.wishlistEventListeners;\n    this.wishListInit = wishlist.wishListInit;\n    this.wishlistRemoveElement = wishlist.wishlistRemoveElement;\n    this.resultHandlerWishlist = wishlist.resultHandlerWishlist;\n\n    // VISITEDLIST FUNCTIONS\n    this.renderVisitedList = visitedlist.renderVisitedList;\n    this.resultHandlerVisitedList = visitedlist.resultHandlerVisitedList;\n    this.setViewedProduct = visitedlist.setViewedProduct;\n\n    // SEARCH FUNCTIONS\n    this.resultHandlerSearchBar = search.resultHandlerSearchBar;\n    this.searchboxSwitch = search.searchboxSwitch;\n    this.searchbox = search.searchbox;\n    this.filter = search.filter;\n    this.pagination = search.pagination;\n    this.buildSearchQuery = search.buildSearchQuery;\n    this.resultHandlerSearch = search.resultHandlerSearch;\n    this.resultHandlerSearchBarStandalone = search.resultHandlerSearchBarStandalone;\n\n    // AUTOCOMPLETE\n    this.autoCompleteInit = autoCompleteInit;\n\n    // AVAILABILITY\n    this.checkAvailability = checkAvailability;\n\n    // PARTNER PARAMS\n    this.initPartnerParams = initPartnerParams;\n\n    // USER ACCOUNT\n    this.initLoginFunctionality = user.initLoginFunctionality;\n    this.matchRelatedProducts = user.matchRelatedProducts;\n    this.removeProductRelationInUserAccount = user.removeProductRelationInUserAccount;\n    this.saveProductRelationInUserAccount = user.saveProductRelationInUserAccount;\n    this.getProductRelationsInUserAccount = user.getProductRelationsInUserAccount;\n    this.currentTimestampToDateString = user.currentTimestampToDateString;\n\n\n    // Sets the spinner and removes the search result\n    this.setSpinner = function (search_result) {\n        $('.spinner').show();\n        $(search_result).html('');\n        $('.pagination').hide();\n    }\n\n    // Removes the spinner\n    this.removeSpinner = function () {\n        $('.spinner').hide();\n        $('.pagination').show();\n    }\n\n    // Sets the button loader\n    this.setButtonLoader = function (btn) {\n        btn.find('svg:not(.always-show)').hide();\n        btn.find('span:not(.btn-loader):not(.btn-loader-placeholder)').hide();\n        btn.find('.loader').show();\n    }\n\n    // Removes the button loader\n    this.removeButtonLoader = function (btn) {\n        btn.find('svg:not(.always-show)').show();\n        btn.find('span:not(.btn-loader):not(.btn-loader-placeholder)').show();\n        btn.find('.loader').hide();\n    }\n\n    // Animate scroll to\n    this.scrollTo = function (scrollto) {\n        $('html, body').stop().animate({\n            'scrollTop': $(scrollto).offset().top - $('header.affix').height()\n        }, 150, 'swing');\n    }\n\n    this.init = ($) => {\n        this.setViewedProduct($);\n        this.initLoginFunctionality($);\n        this.wishlistEventListeners($);\n        this.wishListInit($);\n        if(!window.location.href.includes('calendar')) {\n            this.pagination($);\n        }\n        this.searchboxSwitch($);\n        this.autoCompleteInit($);\n        this.initBookingBtnClickHandler($);\n        this.initPartnerParams($);\n        this.searchbox($);\n        this.filter($, this);\n    }\n};\nmodule.exports = TSAjax;\n\n\n//# sourceURL=webpack:///./modules/search/search.js?");

/***/ }),

/***/ "./ts-functions.js":
/*!*************************!*\
  !*** ./ts-functions.js ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let TSAjax = __webpack_require__(/*! ./modules/search/search.js */ \"./modules/search/search.js\");\nlet Search;\nlet _this;\nlet $ = jQuery;\njQuery(function ($) {\n    Search = new TSAjax('/wp-content/themes/travelshop/pm-ajax-endpoint.php', $);\n    Search.init($);\n    _this = Search;\n    module.exports = {_this, $};\n});\n\n\n//# sourceURL=webpack:///./ts-functions.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./ts-functions.js");
/******/ 	
/******/ })()
;